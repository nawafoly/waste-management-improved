/* =========================
   لوحة الألوان (Light + Dark)
   ========================= */

/* Light (الوضع الافتراضي) */
:root {
  --bg: #F7F8FA;
  --surface: #FFFFFF;
  --card: #FFFFFF;
  --text: #111827;
  --muted: #6B7280;
  --border: #E5E7EB;

  --primary: #059669;           /* الأخضر الحالي */
  --primary-variant: #047857;
  --secondary: #F3F4F6;
  --secondary-contrast: #374151;

  --warn: #F59E0B;
  --danger: #DC2626;
}

/* Dark – من اللوحة التي أرسلتها */
html.dark {
  --bg: #121212;                /* Background */
  --surface: #121212;           /* Surface */
  --card: #1E1E1E;              /* بطاقات */
  --text: #FFFFFF;              /* On Background */
  --muted: #9CA3AF;             /* نص ثانوي */
  --border: #2A2A2A;

  --primary: #BB86FC;           /* Primary */
  --primary-variant: #3700B3;   /* Primary Variant */
  --secondary: #03DAC6;         /* Secondary */
  --secondary-contrast: #000000;/* On Secondary */
  --error: #CF6679;             /* Error */
  --on-primary: #000000;        /* On Primary */
  --on-surface: #FFFFFF;        /* On Surface */
}

/* =========================
   الأساسيات + RTL
   ========================= */

html, body, #root { height: 100%; direction: rtl; text-align: right; }
* { box-sizing: border-box; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: 'Tajawal','Cairo',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
  overflow-x: hidden;
  font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.6;
  word-spacing: 0.05em;
}

.ltr-content { direction: ltr; text-align: left; display: inline-block; }
.rtl-content { direction: rtl; text-align: right; }

/* الأرقام والتواريخ */
.number, .currency, .percentage { font-variant-numeric: tabular-nums; direction: ltr; unicode-bidi: embed; display: inline-block; }
.date, .time { direction: ltr; unicode-bidi: embed; display: inline-block; }

/* الحاويات */
.page { min-height: 100vh; padding: 20px; }
.container { max-width: 1200px; margin: 0 auto; padding-left: max(12px, env(safe-area-inset-left)); padding-right: max(12px, env(safe-area-inset-right)); }

/* عناوين */
.title { margin: 0; font-size: 24px; font-weight: 800; color: var(--text); }
.header { margin-bottom: 12px; display: flex; gap: 8px; align-items: center; justify-content: space-between; flex-wrap: wrap; }
.header-actions { display: flex; gap: 8px; flex-wrap: wrap; }

/* بطاقات */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 1px 3px rgba(16,24,40,0.05);
  transition: background-color .3s, border-color .3s, box-shadow .3s;
}

.grid { display: grid; gap: 12px; }
.grid-2 { grid-template-columns: repeat(2,minmax(0,1fr)); }
.grid-3 { grid-template-columns: repeat(3,minmax(0,1fr)); }
.grid-4 { grid-template-columns: repeat(4,minmax(0,1fr)); }

.muted { color: var(--muted); transition: color .3s; }

/* أزرار */
.btn {
  background: var(--primary);
  border: 1px solid var(--primary-variant);
  color: var(--on-primary, #fff);
  font-weight: 700;
  padding: 12px 16px;
  border-radius: 12px;
  cursor: pointer;
  transition: all .3s ease;
  font-size: 14px;
}
.btn:hover { background: var(--primary-variant); transform: translateY(-1px); box-shadow: 0 4px 8px rgba(5,150,105,.25); }

.btn.secondary {
  background: var(--secondary);
  color: var(--secondary-contrast);
  border: 1px solid var(--border);
}
.btn.secondary:hover { filter: brightness(.95); transform: translateY(-1px); box-shadow: 0 2px 4px rgba(0,0,0,.1); }

.btn.warn { background: var(--warn); color: #111827; border: 1px solid #D97706; }
.btn.warn:hover { background: #D97706; color: #fff; }

.btn.danger { background: var(--danger); color: #fff; border: 1px solid #B91C1C; }
.btn.danger:hover { background: #B91C1C; }

/* تبويبات */
.btn.tab {
  background: #cbced1;
  color: #4B5563;
  border: 1px solid var(--border);
  position: relative;
  font-weight: 600;
}
.btn.tab:hover { background: #F3F4F6; color: #374151; transform: none; box-shadow: none; }
.btn.tab.active {
  background: var(--primary);
  color: var(--on-primary, #fff);
  border-color: var(--primary-variant);
  font-weight: 800;
  box-shadow: 0 2px 4px rgba(5,150,105,.25);
}
.btn.tab.active:hover { background: var(--primary-variant); }

/* زر تبديل الوضع */
.theme-toggle {
  position: fixed; top: 20px; left: 20px; background: var(--surface);
  border: 1px solid var(--border); border-radius: 50%; width: 48px; height: 48px;
  display: flex; align-items: center; justify-content: center; cursor: pointer;
  font-size: 20px; box-shadow: 0 4px 6px rgba(0,0,0,.1); transition: all .3s; z-index: 1000;
}
.theme-toggle:hover { transform: scale(1.05); box-shadow: 0 6px 12px rgba(0,0,0,.15); }

/* تبويبات ريسبونسف */
.tabs { display: grid; gap: 8px; grid-template-columns: 1fr; }
@media (min-width:640px){ .tabs { grid-auto-flow: column; grid-template-columns: unset; } }

/* إدخالات */
.input, .select, .textarea {
  width: 100%; background: #F9FAFB; border: 1px solid #D1D5DB; color: #111827;
  border-radius: 12px; padding: 12px; line-height: 1.4; font-variant-numeric: tabular-nums;
  transition: all .3s ease; font-size: 16px;
}
.input::placeholder, .textarea::placeholder { color: #9CA3AF; }
.input:focus, .select:focus, .textarea:focus {
  outline: 2px solid #10B981; border-color: #10B981; box-shadow: 0 0 0 2px rgba(16,185,129,.15); transform: translateY(-1px);
}

/* KPIs */
.kpi {
  display: flex; align-items: center; gap: 8px;
  background: #FAFAFB; border: 1px solid var(--border);
  border-radius: 12px; padding: 14px 12px; transition: all .3s ease;
}
.kpi:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,.1); }
.kpi div:last-child div:last-child { font-size: 22px; font-weight: 800; }

/* جداول */
.table { width: 100%; border-collapse: collapse; background: var(--surface); border-radius: 12px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,.1); direction: rtl; }
.table th, .table td { padding: 12px; text-align: right; border-bottom: 1px solid var(--border); }
.table th { background: #F9FAFB; font-weight: 700; color: #374151; }
.table tbody tr:hover { background: #F9FAFB; }
.table th:first-child, .table td:first-child { padding-right: 16px; }
.table th:last-child, .table td:last-child { padding-left: 16px; }

/* شريط علوي */
.sticky-header { position: sticky; top: 0; background: rgba(247,248,250,.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); padding: 12px 0; margin: -20px -20px 20px -20px; z-index: 100; direction: rtl; }
.sticky-content { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px; }

/* تنبيهات */
.alert { padding: 12px 16px; border-radius: 8px; margin-bottom: 16px; font-weight: 500; text-align: right; direction: rtl; }
.alert.success { background: #ECFDF5; color: #065F46; border: 1px solid #A7F3D0; }
.alert.warning { background: #FFFBEB; color: #92400E; border: 1px solid #FDE68A; }
.alert.error { background: #FEF2F2; color: #991B1B; border: 1px solid #FECACA; }

/* رؤوس البطاقات */
.card-header { border-bottom: 1px solid var(--border); margin: -16px -16px 16px -16px; padding: 16px; background: #cbced1; border-radius: 16px 16px 0 0; }
.card-title {     font-size: 16px !important;
    font-weight: 700;
    margin: 0;
    color: #111827; }

/* إحصائيات */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap: 16px; margin-bottom: 24px; }
.stat-card { background: linear-gradient(135deg,var(--primary) 0%,var(--primary-variant) 100%); color: var(--on-primary,#000); padding: 20px; border-radius: 16px; text-align: center; box-shadow: 0 4px 6px rgba(5,150,105,.1); }
.stat-value { font-size: 28px; font-weight: 800; margin-bottom: 4px; }
.stat-label { font-size: 14px; opacity: .9; }

/* رسوم بيانية */
.chart-container { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 20px; margin-bottom: 20px; }
.chart-title { font-size: 16px; font-weight: 700; margin-bottom: 16px; text-align: center; color: var(--text); }

/* عناصر متنوعة */
input[type="number"], input[type="tel"], .numeric-input { direction: ltr; text-align: right; font-variant-numeric: tabular-nums; }
input[type="date"], input[type="time"], input[type="datetime-local"] { direction: ltr; text-align: left; }
select, .select { text-align-last: right; direction: rtl; }
.btn { text-align: center; white-space: nowrap; }
.mixed-text { unicode-bidi: plaintext; }
.icon-text { display: flex; align-items: center; gap: 8px; direction: rtl; }
.icon-text .icon { flex-shrink: 0; }
.stat-value, .currency-display { font-variant-numeric: tabular-nums; direction: ltr; unicode-bidi: embed; }
.form-row { display: flex; gap: 12px; align-items: end; direction: rtl; }
.form-row > * { flex: 1; }
.card, .tabs, .sticky-header, .sticky-content { direction: rtl; }
ul, ol { padding-right: 20px; padding-left: 0; }
.text-content, .description { line-height: 1.7; word-spacing: .1em; text-align: justify; hyphens: auto; }
a { text-decoration: none; color: var(--primary); transition: color .3s; }
a:hover { color: var(--primary-variant); text-decoration: underline; }
code, pre, .monospace { font-family: 'Courier New', monospace; direction: ltr; text-align: left; unicode-bidi: embed; }
h1,h2,h3,h4,h5,h6 { font-weight: 700; line-height: 1.4; margin-bottom: .5em; }
p { line-height: 1.6; margin-bottom: 1em; }
.list-item { padding: 8px 0; border-bottom: 1px solid var(--border); }
.btn-sm { padding: 6px 12px; font-size: 12px; }
.badge { display: inline-block; padding: 4px 8px; font-size: 11px; font-weight: 600; border-radius: 6px; background: #E5E7EB; color: #374151; }
.indicator { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-left: 6px; }
.indicator.success { background: #10B981; }
.indicator.warning { background: #F59E0B; }
.indicator.error { background: #EF4444; }
.divider { height: 1px; background: var(--border); margin: 20px 0; }

/* موبايل */
@media (max-width: 768px){
  .page { padding: 12px; }
  .title { font-size: 20px; }
  .header { flex-direction: column; align-items: stretch; }
  .header-actions { justify-content: center; }
  .btn.tab { font-size: 13px; padding: 10px 12px; }
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  .theme-toggle { top: 12px; left: 12px; width: 40px; height: 40px; font-size: 18px; }
  .form-row { flex-direction: column; }
  .stats-grid { grid-template-columns: 1fr; }
  .icon-text { font-size: 14px; }
  .btn { padding: 10px 14px; font-size: 14px; }
  .table-container { overflow-x: auto; direction: rtl; }
  .table { min-width: 600px; }
}

/* طباعة */
@media print{
  .no-print { display: none !important; }
  .page { padding: 0; }
  .card { box-shadow: none; border: 1px solid #000; }
  .btn { display: none; }
  body { font-size: 12px; line-height: 1.4; }
}

/* ============ Dark Mode Overrides الإضافية ============ */

/* الروابط في الوضع الداكن */
html.dark a { color: var(--secondary); }
html.dark a:hover { color: var(--primary); }

/* الحقول (داكن) */
html.dark .input,
html.dark .select,
html.dark .textarea {
  background: var(--surface);
  border-color: var(--border);
  color: var(--on-surface);
}
html.dark .input::placeholder,
html.dark .textarea::placeholder { color: #777; }
html.dark .input:focus,
html.dark .select:focus,
html.dark .textarea:focus {
  outline: 2px solid var(--secondary);
  border-color: var(--secondary);
  box-shadow: 0 0 0 2px rgba(3,218,198,.15);
}

/* الجداول (داكن) */
html.dark .table { background: var(--surface); }
html.dark .table th { background: #1a1a1a; color: var(--on-surface); }
html.dark .table tbody tr:hover { background: #1a1a1a; }

/* رأس لاصق (داكن) */
html.dark .sticky-header { background: rgba(18,18,18,.95); border-bottom-color: var(--border); }

/* التنبيهات (داكن مع لوحة الأخطاء) */
html.dark .alert.success { background:#064E3B; color:#A7F3D0; border-color:#065F46; }
html.dark .alert.warning { background:#5B3B05; color:#FDE68A; border-color:#92400E; }
html.dark .alert.error   { background:#3B1F25; color:#000; border-color: var(--error); }



/*____________________________ */

.kpi > div > div:nth-child(2) {
  color: black; /* أو #000000 */
}

